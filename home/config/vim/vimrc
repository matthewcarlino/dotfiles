vim9script

# TODO
# - LSP keybinds
# - Git keybinds
# - Something for comments
# - Remap CapsLock to ESC
# - Select-mode?

import "~/.config/vim/pack.vim"
import "~/.config/vim/lsp.vim"
import "~/.config/vim/color.vim"
import "~/.config/vim/fzf.vim"


# Interface stuff
set encoding=UTF-8
set nocompatible
set laststatus=2
set tabline=2
set noshowmode
set number
set relativenumber
set splitbelow
set ttimeoutlen=0
set timeoutlen=500
set wildmenu
syntax on

# Buffer stuff
set autoread
set hlsearch
set incsearch

# Editing Stuff
set expandtab
set tabstop=4
set shiftwidth=4
set softtabstop=4
set linebreak
set autoindent
set smartindent
set nowrap
set backspace=indent,eol,start

# Other files
set suffixesadd=.js
set updatetime=1000
set undofile
set undodir=~/.vim/undos
set tags=~/.vim/tags
set directory=~/tmp
set backupdir=~/tmp
set undodir=~/tmp

# Noops
nmap <Up> <Nop>
nmap <Down> <Nop>
nmap <Left> <Nop>
nmap <Right> <Nop>

# Available for remap
nmap + <Nop>
nmap - <Nop>

# Typing

## Move the cursor around in insert mode. (for now)
inoremap <C-j> <ESC><S-^>i
inoremap <C-k> <ESC><S-$>i<Right>

## Close then type
inoremap <> <><Left>
inoremap () ()<Left>
inoremap {} {}<Left>
inoremap [] []<Left>
inoremap "" ""<Left>
inoremap '' ''<Left>
inoremap `` ``<Left>

# Windows/Splits

## Window navigation
nnoremap <C-h> <C-w><Left>
nnoremap <C-j> <C-w><Down>
nnoremap <C-k> <C-w><Up>
nnoremap <C-l> <C-w><Right>
nnoremap <leader>- :res<CR>
nnoremap <leader>= <C-w>=

## Split Making
nnoremap <leader>/ <C-w>s
nnoremap <leader>\ <C-w>v

## Move windows around
nnoremap <leader><Right> <C-w>L
nnoremap <leader><Left> <C-w>H
nnoremap <leader><Down> <C-w>J
nnoremap <leader><Up> <C-w>K

# Buffers

## Page up and down
nnoremap <S-J> <PageDown>
nnoremap <S-K> <PageUp>

## Switching buffers

nnoremap <Tab> :bnext<CR>
nnoremap <S-Tab> :bprev<CR>

nnoremap <leader><space> :noh<CR>

